[tool:pytest]
# Minimal pytest configuration for maximum collection speed
cache_dir = .pytest_cache
testpaths = common cereal

# Disable all non-essential plugins
addopts = 
    --tb=no
    --strict-markers
    --continue-on-collection-errors
    -p no:anyio
    -p no:typeguard
    -p no:langsmith
    -p no:faker
    -p no:doctest
    -p no:pastebin
    -p no:junitxml
    -p no:legacypath
    -p no:warnings
    -p no:cacheprovider
    -p no:faulthandler
    --disable-warnings

# Optimized discovery
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
norecursedirs = .git .tox dist build *.egg .pytest_cache __pycache__

markers =
    slow: marks tests as slow
